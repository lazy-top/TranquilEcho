<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Chat Room</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.min.js"></script>
    <style>
        /* 这里添加一些基本样式，例如对聊天窗口、输入框和发送按钮的样式设定 */
    </style>
</head>
<body>
    <div id="chat-container">
        <!-- 聊天消息将显示在这里 -->
    </div>
    <form id="message-form">
        <input type="text" id="message-input" placeholder="Type your message...">
        <button type="submit">Send</button>
    </form>

    <script>
        const socket = io.connect('http://' + document.domain + ':' + location.port);

        // 连接成功事件
        socket.on('connect', function() {
            console.log('Connected to chat server');
        });

        // 监听新消息事件
        socket.on('new_message', function(message) {
            displayMessage(message);
        });

        // 处理表单提交事件，发送消息到服务器
        document.getElementById('message-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const input = document.getElementById('message-input');
            socket.emit('send_message', { user: 'User', message: input.value });
            input.value = '';
        });

        // 在页面上显示新消息的方法
        function displayMessage(message) {
            // 在这里添加将消息添加到DOM的逻辑，如创建新的`<div>`元素并添加到`#chat-container`
        }
    </script>
</body>
</html>